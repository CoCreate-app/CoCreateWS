# CoCreateWS

Server Side for [CoCreateJS](https://github.com/CoCreate-app/CoCreateJS). Containing websocket, crud, auth, server side rendering, and permission components.

![GitHub latest release](https://img.shields.io/github/v/release/CoCreate-app/CoCreateWS?style=flat-square)
![GitHub contributors](https://img.shields.io/github/contributors/CoCreate-app/CoCreateWS?style=flat-square)
![License](https://img.shields.io/static/v1?style=flat-square&label=license&message=SSPL&color=green)
![Hiring](https://img.shields.io/static/v1?style=flat-square&label=&message=Hiring&color=blueviolet)

## [Docs & Demo](https://cocreate.app/docs/CoCreateWS)

<br/>

# Table of Contents

-   [Table of Contents](#table-of-contents)
-   [Announcements](#announcements)
-   [Installation](#installation)
-   [Roadmap](#roadmap)
-   [How to Contribute](#how-to-contribute)
-   [About](#about)
-   [License](#license)

<br/>

<a name="installation"></a>

# Installation

## NPM

```shell
$ npm i @cocreate/cocreatews
```

## Yarn

```shell
$ yarn add @cocreate/cocreatews
```

<br/>

## MongoDB

MongoDB URL is required in CoCreate.config.js param db_url to succesfully start the server. You can use the dbUrl generated by MongoDB atlas or a localhost url by installing MongoDB locally.

### MongoDB Atlas

https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/

### MongoDB Local Install

https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/

<br/>

## Proxy Server

Use your prefered proxy server: nginx, apache, etc

#### https://domain.com/ forwarded to port 3000

#### wss://domain.com/ws/ forwarded to port 3000

<br/>

## Install NPM Dependencies

### NPM

```shell
$ npm install
```

### Yarn

```shell
$ yarn install
```

<br/>

## Create an organization and apiKey

In CoCreate.config.js add your organization and user data, then run createdb to create the first organization and user.

### npm

```shell
$ npm createdb
```

### Yarn

```shell
$ yarn createdb
```

<br/>

## Start Server

### npm

```shell
$ npm start
```

### Yarn

```shell
$ yarn start
```

<br/>

## Testing with CoCreateJS clientside using HTML5 attribute api

### HTML5 attribute api example

```HTML
<!DOCTYPE html>
<html lang="en">

    <body class="padding:5px">

        <form collection="test" document_id="">
            <input placeholder="Name" name='firstname' class="floating-label">
            <h1 name='lastname'  contenteditable></h1>
        </form>

        <script>
            var config = {
                apiKey: '<apiKey from CoCreate.config.js>',
                organization_id: '<organization_id from CoCreate.config.js>',
                host: '<Your CoCreateWS domain>'
            };
        </script>
        <script src="/dist/CoCreate.js"></script>

    </body>
</html>
```

<br/>

### Javascript object api example

Paste in your browsers console

```js
crud.readDocument({
    collection: "test",
    document_id: "",
});
```

<br/>

<a name="announcements"></a>

# Announcements

All updates to this library are documented in our [CHANGELOG](https://github.com/CoCreate-app/CoCreateWS/blob/master/CHANGELOG.md) and [releases](https://github.com/CoCreate-app/CoCreateWS/releases). You may also subscribe to email for releases and breaking changes.

<br/>

<a name="roadmap"></a>

# Roadmap

If you are interested in the future direction of this project, please take a look at our open [issues](https://github.com/CoCreate-app/CoCreateWS/issues) and [pull requests](https://github.com/CoCreate-app/CoCreateWS/pulls). We would love to hear your feedback.

<br/>

<a name="about"></a>

# About

CoCreateWS is guided and supported by the CoCreate Developer Experience Team.

Please Email the Developer Experience Team [here](mailto:develop@cocreate.app) in case of any queries.

CoCreateWS is maintained and funded by CoCreate. The names and logos for CoCreate are trademarks of CoCreate, LLC.

<br/>

<a name="contribute"></a>

# How to Contribute

We encourage contribution to our libraries (you might even score some nifty swag), please see our [CONTRIBUTING](https://github.com/CoCreate-app/CoCreateWS/blob/master/CONTRIBUTING.md) guide for details.

We want this library to be community-driven, and CoCreate led. We need your help to realize this goal. To help make sure we are building the right things in the right order, we ask that you create [issues](https://github.com/CoCreate-app/CoCreateWS/issues) and [pull requests](https://github.com/CoCreate-app/CoCreateWS/pulls) or merely upvote or comment on existing issues or pull requests.

We appreciate your continued support, thank you!

<br/>

<a name="license"></a>

# License

This software is dual-licensed under the GNU Affero General Public License version 3 (AGPLv3) and a commercial license.

-   **Open Source Use**: For open-source projects and non-commercial use, this software is available under the AGPLv3. The AGPLv3 allows you to freely use, modify, and distribute this software, provided that all modifications and derivative works are also licensed under the AGPLv3. For the full license text, see the [LICENSE file](https://github.com/CoCreate-app/CoCreateWS/blob/master/LICENSE).

-   **Commercial Use**: For-profit companies and individuals intending to use this software for commercial purposes must obtain a commercial license. The commercial license is available when you sign up for an API key on our [website](https://cocreate.app). This license permits proprietary use and modification of the software without the copyleft requirements of the AGPLv3. It is ideal for integrating this software into proprietary commercial products and applications.

If you have not purchased a commercial license and intend to use this software for commercial purposes, you are required to sign up for an API key on our website.
